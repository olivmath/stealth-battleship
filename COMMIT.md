veja quanta coisa em diff, organize tudo em diversos commits que tenha relacao entre si e sejam pequenos pra gente rastrer bugs. fa√ßa todos os commits pra mim     